<div id="userDetails">
  <button
    pButton
    type="button"
    label="Add evaluation form"
    class="p-button-help"
    style="align-self: flex-end; margin-top: 50px"
    (click)="showModal()"
  ></button>

  <div *ngIf="user" id="userInfo">
    <p-card header="{{ user.name }}">
      <div style="background-color: #f1f0f0; margin-bottom: 10px">
        <b>Role: </b> {{ user.role }}
      </div>
      <div style="background-color: #f7f7f7; margin-bottom: 10px">
        <b>Email:</b> {{ user.email }}
      </div>
      <div *ngIf="project" class="info" style="background-color: #f1f0f0">
        <b>Project:</b> {{ project.name }}
      </div>
      <div *ngIf="department" class="info" style="background-color: #f7f7f7">
        <b>Department:</b> {{ department.name }}
      </div>
      <div class="info" style="background-color: #f1f0f0">
        <b>Evaluation forms:</b> 2
      </div>
    </p-card>
  </div>
</div>

<!-- Add Eval form modal -->
<p-dialog
  header="Add Evaluation Form"
  [(visible)]="displayAddEvalModal"
  [breakpoints]="{ '960px': '75vw', '640px': '100vw' }"
  [modal]="true"
  styleClass="eval-dialog"
>
  <div style="display: flex; flex-direction: column; margin-top: 10px">
    <form [formGroup]="addEvalFormGroup">
      <p-dropdown
        [options]="templates"
        optionLabel="name"
        optionValue="id"
        formControlName="templateControl"
        autoWidth="false"
        [style]="{ width: '100%' }"
      ></p-dropdown>
    </form>
  </div>
  <div
    style="
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      margin-top: 30px;
    "
  >
    <button
      pButton
      type="button"
      label="Cancel"
      class="p-button-danger"
      (click)="hideModal()"
    ></button>
    <button
      pButton
      type="button"
      label="Submit"
      class="p-button-success"
      (click)="addEvalForm()"
      [disabled]="!addEvalFormGroup.valid"
    ></button>
  </div>
</p-dialog>
